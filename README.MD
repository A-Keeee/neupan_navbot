# Nav-Neupan: å®Œæ•´çš„ROS2è‡ªä¸»å¯¼èˆªç³»ç»Ÿ

[![ROS2](https://img.shields.io/badge/ROS2-Humble-blue)](https://docs.ros.org/en/humble/)
[![Python](https://img.shields.io/badge/Python-3.10+-green)](https://www.python.org/)
[![License](https://img.shields.io/badge/License-MIT-yellow)](LICENSE)

Nav-Neupanæ˜¯ä¸€ä¸ªå®Œæ•´çš„ROS2è‡ªä¸»å¯¼èˆªç³»ç»Ÿï¼Œé›†æˆäº†å¤šç§å…ˆè¿›çš„å¯¼èˆªç®—æ³•å’Œä»¿çœŸç¯å¢ƒï¼Œä¸ºå®¤å†…æœºå™¨äººå¯¼èˆªæä¾›å®Œæ•´çš„è§£å†³æ–¹æ¡ˆã€‚

> **é¡¹ç›®åŸºç¡€**: æœ¬é¡¹ç›®åŸºäº [HomeBot-ROS2-Navigation](https://github.com/aimechengineer/HomeBot-ROS2-Navigation) æ‰©å±•è€Œæ¥ï¼Œå¢åŠ äº†NeuPANç¥ç»ç½‘ç»œå¯¼èˆªç®—æ³•æ”¯æŒã€‚

![æœºå™¨äººä»¿çœŸ](src/bot_nav/mobile_robot_gazebo.gif)

## ğŸš€ é¡¹ç›®ç‰¹è‰²

- **å¤šç®—æ³•é›†æˆ**: ç»“åˆä¼ ç»ŸNav2å¯¼èˆªæ ˆå’Œå…ˆè¿›çš„NeuPANç¥ç»ç½‘ç»œå¯¼èˆªç®—æ³•
- **å®Œæ•´ä»¿çœŸç¯å¢ƒ**: åŸºäºGazeboçš„å®¤å†…æˆ¿å±‹ç¯å¢ƒä»¿çœŸ
- **æ¨¡å—åŒ–è®¾è®¡**: æ¸…æ™°çš„åŠŸèƒ½åŒ…ç»“æ„ï¼Œä¾¿äºæ‰©å±•å’Œç»´æŠ¤
- **ä¸€é”®å¯åŠ¨**: æä¾›ç»Ÿä¸€çš„launchæ–‡ä»¶ï¼Œç®€åŒ–ç³»ç»Ÿå¯åŠ¨æµç¨‹

## ğŸ“¦ åŠŸèƒ½åŒ…ç»„æˆ

### ğŸ”§ æ ¸å¿ƒåŠŸèƒ½åŒ…

| åŠŸèƒ½åŒ… | æè¿° | çŠ¶æ€ |
|--------|------|------|
| `nav_launch` | ç»Ÿä¸€çš„ç³»ç»Ÿå¯åŠ¨ç®¡ç†å™¨ | âœ… å®Œæˆ |
| `neupan_ros2` | NeuPANç¥ç»ç½‘ç»œå¯¼èˆªç®—æ³•ROS2å°è£… | âœ… å®Œæˆ |
| `bot_nav` | æœºå™¨äººå¹³å°ç›¸å…³åŠŸèƒ½åŒ…é›†åˆ | âœ… å®Œæˆ |

### ğŸ¤– æœºå™¨äººå¹³å°åŠŸèƒ½åŒ… (bot_nav/src/)

| åŠŸèƒ½åŒ… | æè¿° |
|--------|------|
| `robot_description` | æœºå™¨äººURDFæè¿°ã€ç½‘æ ¼æ¨¡å‹å’Œé…ç½® |
| `robot_simulation` | Gazeboä»¿çœŸç¯å¢ƒå’Œå¯¼èˆªé…ç½® |
| `robot_patrol` | è‡ªä¸»å·¡é€»è¡Œä¸ºå®ç° |
| `costmap_converter` | ä»£ä»·åœ°å›¾è½¬æ¢å·¥å…· |
| `teb_local_planner` | æ—¶é—´å¼¹æ€§å¸¦å±€éƒ¨è§„åˆ’å™¨ |
| `teb_msgs` | TEBè§„åˆ’å™¨æ¶ˆæ¯å®šä¹‰ |

## ğŸ› ï¸ ç³»ç»Ÿè¦æ±‚

### åŸºç¡€ç¯å¢ƒ
- **æ“ä½œç³»ç»Ÿ**: Ubuntu 22.04 LTS
- **ROS2ç‰ˆæœ¬**: Humble Hawksbill
- **Pythonç‰ˆæœ¬**: 3.10 æˆ–æ›´é«˜

### ä¾èµ–åŒ…
- **Nav2**: ROS2å¯¼èˆªæ ˆ
- **SLAM Toolbox**: SLAMå»ºå›¾å·¥å…·
- **Gazebo**: æœºå™¨äººä»¿çœŸç¯å¢ƒ
- **NeuPAN**: ç¥ç»ç½‘ç»œå¯¼èˆªç®—æ³• ([åŸé¡¹ç›®](https://github.com/hanruihua/neupan))

## ğŸ“¥ å®‰è£…æŒ‡å—

### 1. åˆ›å»ºROS2å·¥ä½œç©ºé—´

```bash
mkdir -p ~/nav_ws/src
cd ~/nav_ws
```

### 2. å…‹éš†é¡¹ç›®

```bash
git clone https://github.com/A-Keeee/neupan_navbot.git
```

### 3. å®‰è£…ä¾èµ–

```bash
# å®‰è£…ç³»ç»Ÿä¾èµ–
sudo apt update
sudo apt install -y ros-humble-navigation2 ros-humble-nav2-bringup ros-humble-slam-toolbox

# å®‰è£…NeuPAN (å‚è€ƒåŸé¡¹ç›®æ–‡æ¡£)
# https://github.com/hanruihua/neupan
```

### 4. æ„å»ºå·¥ä½œç©ºé—´

```bash
cd ~/nav_ws
colcon build --symlink-install
source install/setup.bash
```

## ğŸš€ å¿«é€Ÿå¼€å§‹

### ä¸€é”®å¯åŠ¨å®Œæ•´ç³»ç»Ÿ

```bash
# ä»å·¥ä½œç©ºé—´æ ¹ç›®å½•å¯åŠ¨
ros2 launch nav_launch nav_neupan_complete.launch.py
```

è¿™ä¸ªå‘½ä»¤å°†æŒ‰é¡ºåºå¯åŠ¨ï¼š
1. ğŸ  **Gazeboä»¿çœŸç¯å¢ƒ** - æˆ¿å±‹åœºæ™¯å’Œæœºå™¨äººæ¨¡å‹
2. ğŸ§­ **Nav2å¯¼èˆªæ ˆ** - ä¼ ç»Ÿå¯¼èˆªç®—æ³•å’Œå®šä½
3. ğŸ§  **NeuPANå¯¼èˆªèŠ‚ç‚¹** - ç¥ç»ç½‘ç»œæ™ºèƒ½å¯¼èˆª

### å•ç‹¬å¯åŠ¨ç»„ä»¶

```bash
# ä»…å¯åŠ¨ä»¿çœŸç¯å¢ƒ
ros2 launch robot_simulation house_sim.launch.py

# ä»…å¯åŠ¨å¯¼èˆªç³»ç»Ÿ
ros2 launch robot_simulation autonomous_navigation.launch.py

# ä»…å¯åŠ¨NeuPANèŠ‚ç‚¹
ros2 launch neupan_ros2 limo_diff_launch.py
```

## ğŸ“‹ ä½¿ç”¨è¯´æ˜

### å¯¼èˆªæ§åˆ¶

ç³»ç»Ÿå¯åŠ¨åï¼Œä½ å¯ä»¥é€šè¿‡ä»¥ä¸‹æ–¹å¼æ§åˆ¶æœºå™¨äººï¼š

1. **RVizç•Œé¢**: å¯è§†åŒ–å¯¼èˆªå’Œè®¾ç½®ç›®æ ‡ç‚¹
2. **å‘½ä»¤è¡Œ**: ä½¿ç”¨ROS2 actionå®¢æˆ·ç«¯å‘é€å¯¼èˆªç›®æ ‡
3. **è‡ªåŠ¨å·¡é€»**: å¯åŠ¨å·¡é€»æ¨¡å¼è¿›è¡Œè‡ªä¸»å¯¼èˆª

### å‚æ•°é…ç½®

ä¸»è¦é…ç½®æ–‡ä»¶ä½äºï¼š
- `src/bot_nav/src/robot_simulation/params/nav2_params.yaml` - Nav2å¯¼èˆªå‚æ•°
- `src/neupan_ros2/config/` - NeuPANç®—æ³•é…ç½®
- `src/bot_nav/src/robot_simulation/config/` - ä»¿çœŸç¯å¢ƒé…ç½®

## ğŸ”§ é«˜çº§é…ç½®

### è‡ªå®šä¹‰åœ°å›¾

1. å°†ä½ çš„åœ°å›¾æ–‡ä»¶æ”¾ç½®åœ¨ `src/bot_nav/src/robot_simulation/maps/`
2. æ›´æ–°launchæ–‡ä»¶ä¸­çš„åœ°å›¾è·¯å¾„å‚æ•°

### è°ƒæ•´å¯åŠ¨æ—¶åº

å¦‚æœç³»ç»Ÿå¯åŠ¨æ—¶é—´éœ€è¦è°ƒæ•´ï¼Œç¼–è¾‘ `src/nav_launch/launch/nav_neupan_complete.launch.py` ä¸­çš„å»¶è¿Ÿå‚æ•°ï¼š

```python
# è°ƒæ•´Gazeboå¯åŠ¨åçš„ç­‰å¾…æ—¶é—´
autonomous_navigation_launch = TimerAction(period=8.0, ...)

# è°ƒæ•´å¯¼èˆªç³»ç»Ÿå¯åŠ¨åçš„ç­‰å¾…æ—¶é—´
neupan_launch = TimerAction(period=15.0, ...)
```

## ğŸ“Š ç³»ç»Ÿæ¶æ„

```
nav-neupan/
â”œâ”€â”€ nav_launch/           # ğŸš€ ç»Ÿä¸€å¯åŠ¨ç®¡ç†å™¨
â”‚   â”œâ”€â”€ launch/
â”‚   â”‚   â”œâ”€â”€ nav_neupan_complete.launch.py     # å®Œæ•´ç³»ç»Ÿå¯åŠ¨
â”‚   â”‚   â””â”€â”€ nav_neupan_sequential.launch.py   # é¡ºåºå¯åŠ¨ç‰ˆæœ¬
â”‚   â””â”€â”€ README.md
â”œâ”€â”€ neupan_ros2/          # ğŸ§  NeuPANå¯¼èˆªç®—æ³•
â”‚   â”œâ”€â”€ neupan_node.py    # ä¸»èŠ‚ç‚¹
â”‚   â”œâ”€â”€ config/           # ç®—æ³•é…ç½®
â”‚   â””â”€â”€ launch/
â”œâ”€â”€ bot_nav/             # ğŸ¤– æœºå™¨äººå¹³å°
â”‚   â”œâ”€â”€ robot_description/# æœºå™¨äººæè¿°
â”‚   â”œâ”€â”€ robot_simulation/ # ä»¿çœŸç¯å¢ƒ
â”‚   â”œâ”€â”€ robot_patrol/     # å·¡é€»åŠŸèƒ½
â”‚   â””â”€â”€ ...               # å…¶ä»–å¯¼èˆªç»„ä»¶
â””â”€â”€ README.md            # æœ¬æ–‡ä»¶
```

## ğŸ› æ•…éšœæ’é™¤

### å¸¸è§é—®é¢˜

**Q: Nav2å¯¼èˆªåˆå§‹åŒ–å¤±è´¥**

**A:** æ£€æŸ¥åœ°å›¾æ–‡ä»¶è·¯å¾„æ˜¯å¦æ­£ç¡®ï¼Œå¹¶ç¡®ä¿ä»¿çœŸæ—¶é—´è®¾ç½®ä¸€è‡´ã€‚

### è°ƒè¯•æ¨¡å¼

å¯ç”¨è¯¦ç»†æ—¥å¿—ï¼š
```bash
export ROS_LOG_LEVEL=debug
ros2 launch nav_launch nav_neupan_complete.launch.py
```

## ğŸ¤ è´¡çŒ®æŒ‡å—

æ¬¢è¿æäº¤Issueå’ŒPull Requestï¼

1. Forkæœ¬é¡¹ç›®
2. åˆ›å»ºç‰¹æ€§åˆ†æ”¯ (`git checkout -b feature/AmazingFeature`)
3. æäº¤æ›´æ”¹ (`git commit -m 'Add some AmazingFeature'`)
4. æ¨é€åˆ°åˆ†æ”¯ (`git push origin feature/AmazingFeature`)
5. åˆ›å»ºPull Request

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨MITè®¸å¯è¯ - æŸ¥çœ‹ [LICENSE](LICENSE) æ–‡ä»¶äº†è§£è¯¦æƒ…ã€‚

## ğŸ™ è‡´è°¢

æœ¬é¡¹ç›®åŸºäºä»¥ä¸‹å¼€æºé¡¹ç›®å’Œè´¡çŒ®ï¼š

- **HomeBot-ROS2-Navigation**: æœºå™¨äººå¹³å°åŸºç¡€ä»£ç  ([aimechengineer/HomeBot-ROS2-Navigation](https://github.com/aimechengineer/HomeBot-ROS2-Navigation))
- **NeuPANç®—æ³•**: ç¥ç»ç½‘ç»œå¯¼èˆªç®—æ³• ([hanruihua/neupan](https://github.com/hanruihua/neupan))
- **ROS2ç¤¾åŒº**: æ„Ÿè°¢ROS2å’ŒNav2é¡¹ç›®çš„è´¡çŒ®è€…
- **AgileX**: Limoæœºå™¨äººå¹³å°æ”¯æŒ

ç‰¹åˆ«æ„Ÿè°¢åŸHomeBoté¡¹ç›®çš„ä½œè€…ä¸ºROS2å¯¼èˆªç¤¾åŒºåšå‡ºçš„è´¡çŒ®ã€‚

## ğŸ“ è”ç³»æ–¹å¼

- **é¡¹ç›®ç»´æŠ¤è€…**: A-Keeee
- **é‚®ç®±**: [é‚®ç®±åœ°å€]
- **é¡¹ç›®ä¸»é¡µ**: [https://github.com/A-Keeee/neupan_navbot](https://github.com/A-Keeee/neupan_navbot)

---

â­ å¦‚æœè¿™ä¸ªé¡¹ç›®å¯¹ä½ æœ‰å¸®åŠ©ï¼Œè¯·ç»™æˆ‘ä»¬ä¸€ä¸ªæ˜Ÿæ ‡ï¼
